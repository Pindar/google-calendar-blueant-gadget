<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Event details">
    <Require feature="google.calendar-0.5"/>
    <Require feature="google.calendar-0.5.read"/>
  </ModulePrefs>
  <Content type="html">
  <![CDATA[
  <html>
<body>
 <div id="out">No event</div>

<script>

function subscribeEventsCallback(e) {

var html = 'No event';
if (e) {
  html = gadgets.json.stringify(e);
}
document.getElementById('out').innerHTML = gadgets.util.escapeString(html);
}

///https://www.google.com/calendar/b/1/render?gadgeturl=http://devblog.meeterapp.com/wp-content/uploads/2015/03/fess_subscribe_to_dates.xml#main_7
// The gadget containers request that we do NOT run any JS inline.
// Instead, register a callback handler.
gadgets.util.registerOnLoadHandler(function() {
google.calendar.read.subscribeToEvents(subscribeEventsCallback);
});


function showEvent(){
  google.calendar.showEvent(localEevent.id);
}

</script>
</body>
</html>
  ]]>
  </Content>
</Module>
